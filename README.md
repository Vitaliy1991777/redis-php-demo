# Redis PHP Demo

**Что попробовал:**  
Я установил Redis на Windows и установил пароль (в файле redis.windows.conf), настроил его для локальной работы и написал несколько PHP-скриптов, использующих Redis как кэш и очередь. Реализованы примеры работы с различными типами данных — строки, числа, списки, множества и хэши. Также созданы две очереди: обычная и отложенная (delay queue) через `sorted sets`.

**Какие проблемы были:**  
Главная проблема возникла при запуске PHP-скрипта: ошибка `Class 'Redis' not found`. Это означало, что PHP не распознаёт работу с Redis, потому что не установлено нужное расширение. Решение — скачать и вручную подключить расширение `php_redis.dll`, подходящее под мою версию PHP (7.4, x64). После добавления строки `extension=php_redis.dll` в `php.ini` и перезапуска всё заработало.

Также пришлось установить часовой пояс вручную через `date_default_timezone_set('Europe/Moscow')`, чтобы отложенные задачи показывали корректное время.

**Как решил:**  
Скачал совместимую сборку `php_redis.dll` с официального сайта PECL, положил её в папку `ext`, подключил в `php.ini` и перезапустил `cmd`. Проверил подключение через `php -m | findstr redis`. Далее проверил работу Redis вручную через `redis-cli`. Всё заработало корректно.

**Что не решил:**  
Никаких нерешённых проблем не осталось. Все задачи, включая отложенные очереди, были реализованы и протестированы успешно.

**Итог:**  
Проект помог понять, как Redis используется в PHP-проектах: как кэш, как очередь, как хранилище структурированных данных. А главное — я научился устранять типичные ошибки подключения и настройки расширений.

---

## Установка и запуск

1. Установите Redis для Windows и запустите `redis-server.exe`
2. Убедитесь, что PHP установлен, и добавьте в `php.ini`:
   ```
   extension=php_redis.dll
   ```
3. Проверьте подключение:
   ```
   php -m | findstr redis
   ```

4. Запуск скриптов из папки проекта:

```bash
php redis_test.php         # Работа с типами данных
php producer.php           # Добавление задач в обычную очередь
php consumer.php           # Обработка задач из обычной очереди
php delayed_queue.php      # Отложенная очередь (через sorted sets)
```
